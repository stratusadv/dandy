<!doctype html>

<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Dandy Debug: AKHF</title>
    <link rel="icon"
          href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj4KICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI0MCIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIzIiBmaWxsPSJyZWQiIC8+Cjwvc3ZnPg=="
          type="image/svg+xml">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <style type="text/css">
        .text-run {
            color: #99AA99 !important;
        }

        .bg-run {
            background-color: #DDDDDD !important;
        }

        .text-retry {
            color: #999900 !important;
        }

        .bg-retry {
            background-color: #DDDDAA !important;
        }

        .text-request {
            color: #9900FF !important;
        }

        .bg-request {
            background-color: #DDCCFF !important;
        }

        .text-response {
            color: #0099FF !important;
        }

        .bg-response {
            background-color: #CCDDFF !important;
        }

        .text-result {
            color: #AA9999 !important;
        }

        .bg-result {
            background-color: #CCCCCC !important;
        }

        .text-success {
            color: #009900 !important;
        }

        .bg-success {
            background-color: #DDFFDD !important;
        }

        .text-warning {
            color: #FF9900 !important;
        }

        .bg-warning {
            background-color: #FFDDAA !important;
        }

        .text-failure {
            color: #BB0000 !important;
        }

        .bg-failure {
            background-color: #FFCCCC !important;
        }

        .text-item {
            color: #777777 !important;
        }

        .bg-item {
            background-color: #f9f9f9 !important;
        }

        .bg-top {
            background-color: #F3F3F3 !important;
        }

        .white-space-pre-wrap {
            white-space: pre-wrap;
        }

        .cursor-pointer {
            cursor: pointer !important;
        }

    </style>

</head>

<body class="bg-light">

<script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

<script defer>
    document.addEventListener('alpine:init', () => {
        Alpine.data('dandy_recording', () => ({
            init() {
                for (let i = 0; i < this.recording.event_manager.events.length; i++) {
                    this.recording.event_manager.events[i].show_details = false
                }
            },

            open_all() {
                for (let i = 0; i < this.recording.event_manager.events.length; i++) {
                    this.recording.event_manager.events[i].show_details = true
                }
            },

            close_all() {
                for (let i = 0; i < this.recording.event_manager.events.length; i++) {
                    this.recording.event_manager.events[i].show_details = false
                }
            },

            recording: {"name":"tutorial","is_running":false,"start_datetime":"2025-04-01T22:16:39.641837","stop_datetime":"2025-04-01T22:16:44.018298","run_time_seconds":4.376461,"event_manager":{"events":[{"id":"PUOX","object_name":"Llm Bot","callable_name":"Process","type":"run","items":[{"key":"Args","value":"[]","is_dropdown":false,"is_card":true,"is_base64_image":false},{"key":"Kwargs","value":"{\n    \"prompt\": \"Please tell me just the name only of the city that is the capital of Canada?\"\n}","is_dropdown":false,"is_card":true,"is_base64_image":false}],"start_time":1806311.9619647,"run_time":0.0},{"id":"IKKK","object_name":"LLM Service","callable_name":"Request","type":"request","items":[{"key":"Model","value":"qwen2.5-coder:14b-instruct-q4_K_M","is_dropdown":false,"is_card":false,"is_base64_image":false},{"key":"Temperature","value":0.0,"is_dropdown":false,"is_card":false,"is_base64_image":false},{"key":"Estimated Tokens","value":51,"is_dropdown":false,"is_card":false,"is_base64_image":false},{"key":"JSON Schema","value":"{\n    \"properties\": {\n        \"text\": {\n            \"title\": \"Text\",\n            \"type\": \"string\"\n        }\n    },\n    \"required\": [\n        \"text\"\n    ],\n    \"title\": \"DefaultLlmIntel\",\n    \"type\": \"object\"\n}","is_dropdown":true,"is_card":false,"is_base64_image":false},{"key":"system","value":"You're a helpful assistant please follow the users instructions.\n\n### Rules:\n- Do not use any markdown styling in your response.\n","is_dropdown":false,"is_card":true,"is_base64_image":false},{"key":"user","value":"Please tell me just the name only of the city that is the capital of Canada?\n","is_dropdown":false,"is_card":true,"is_base64_image":false}],"start_time":1806311.9635259,"run_time":0.001561200013384223},{"id":"IKKK","object_name":"LLM Service","callable_name":"Response","type":"response","items":[{"key":"Estimated Tokens","value":5,"is_dropdown":false,"is_card":false,"is_base64_image":false},{"key":"LLM Response","value":"{ \"text\": \"Ottawa\" }","is_dropdown":false,"is_card":true,"is_base64_image":false}],"start_time":1806312.7704644,"run_time":0.8069385001435876},{"id":"IKKK","object_name":"LLM Service","callable_name":"Success","type":"success","items":[{"key":"Status","value":"Validated response from prompt into intel object.","is_dropdown":false,"is_card":false,"is_base64_image":false},{"key":"DefaultLlmIntel","value":"{\n    \"text\": \"Ottawa\"\n}","is_dropdown":false,"is_card":true,"is_base64_image":false}],"start_time":1806312.770698,"run_time":0.00023359991610050201},{"id":"PUOX","object_name":"Llm Bot","callable_name":"Process Returned Result","type":"result","items":[{"key":"Returned Result","value":"{\n    \"text\": \"Ottawa\"\n}","is_dropdown":false,"is_card":true,"is_base64_image":false}],"start_time":1806312.7708574,"run_time":0.00015940004959702492},{"id":"PUOX","object_name":"Llm Bot","callable_name":"Process","type":"run","items":[{"key":"Args","value":"[]","is_dropdown":false,"is_card":true,"is_base64_image":false},{"key":"Kwargs","value":"{\n    \"prompt\": \"Please describe the following city: Ottawa\"\n}","is_dropdown":false,"is_card":true,"is_base64_image":false}],"start_time":1806312.7709753,"run_time":0.00011790008284151554},{"id":"9N23","object_name":"LLM Service","callable_name":"Request","type":"request","items":[{"key":"Model","value":"qwen2.5-coder:14b-instruct-q4_K_M","is_dropdown":false,"is_card":false,"is_base64_image":false},{"key":"Temperature","value":0.0,"is_dropdown":false,"is_card":false,"is_base64_image":false},{"key":"Estimated Tokens","value":42,"is_dropdown":false,"is_card":false,"is_base64_image":false},{"key":"JSON Schema","value":"{\n    \"properties\": {\n        \"text\": {\n            \"title\": \"Text\",\n            \"type\": \"string\"\n        }\n    },\n    \"required\": [\n        \"text\"\n    ],\n    \"title\": \"DefaultLlmIntel\",\n    \"type\": \"object\"\n}","is_dropdown":true,"is_card":false,"is_base64_image":false},{"key":"system","value":"You're a helpful assistant please follow the users instructions.\n\n### Rules:\n- Do not use any markdown styling in your response.\n","is_dropdown":false,"is_card":true,"is_base64_image":false},{"key":"user","value":"Please describe the following city: Ottawa\n","is_dropdown":false,"is_card":true,"is_base64_image":false}],"start_time":1806312.7731902,"run_time":0.0022148999851197004},{"id":"9N23","object_name":"LLM Service","callable_name":"Response","type":"response","items":[{"key":"Estimated Tokens","value":268,"is_dropdown":false,"is_card":false,"is_base64_image":false},{"key":"LLM Response","value":"{ \"text\": \"Ottawa is the capital city of Canada, located in the eastern part of the country. It's situated on the banks of the Ottawa River, which forms the boundary between Ontario and Quebec. The city has a population of around 940,000 people within its urban core, making it the fourth-largest city in Canada by population. Ottawa is known for its bilingualism, being one of the few officially bilingual cities in North America. It's also home to many government buildings, including Parliament Hill, which houses the Canadian House of Commons and Senate. The Rideau Canal, a UNESCO World Heritage Site, runs through the city and offers picturesque views during the winter when it's frozen over. Ottawa is often referred to as the 'City of Lakes' due to its numerous lakes and ponds, such as Rock Lake and Britannia Beach. The city has a diverse economy with sectors including technology, finance, and tourism. It also hosts various cultural events throughout the year, including the Ottawa International Jazz Festival and the Byward Market's winter farmers' market.\" }","is_dropdown":false,"is_card":true,"is_base64_image":false}],"start_time":1806316.3382031,"run_time":3.5650128999259323},{"id":"9N23","object_name":"LLM Service","callable_name":"Success","type":"success","items":[{"key":"Status","value":"Validated response from prompt into intel object.","is_dropdown":false,"is_card":false,"is_base64_image":false},{"key":"DefaultLlmIntel","value":"{\n    \"text\": \"Ottawa is the capital city of Canada, located in the eastern part of the country. It's situated on the banks of the Ottawa River, which forms the boundary between Ontario and Quebec. The city has a population of around 940,000 people within its urban core, making it the fourth-largest city in Canada by population. Ottawa is known for its bilingualism, being one of the few officially bilingual cities in North America. It's also home to many government buildings, including Parliament Hill, which houses the Canadian House of Commons and Senate. The Rideau Canal, a UNESCO World Heritage Site, runs through the city and offers picturesque views during the winter when it's frozen over. Ottawa is often referred to as the 'City of Lakes' due to its numerous lakes and ponds, such as Rock Lake and Britannia Beach. The city has a diverse economy with sectors including technology, finance, and tourism. It also hosts various cultural events throughout the year, including the Ottawa International Jazz Festival and the Byward Market's winter farmers' market.\"\n}","is_dropdown":false,"is_card":true,"is_base64_image":false}],"start_time":1806316.3386386,"run_time":0.0004354999400675297},{"id":"PUOX","object_name":"Llm Bot","callable_name":"Process Returned Result","type":"result","items":[{"key":"Returned Result","value":"{\n    \"text\": \"Ottawa is the capital city of Canada, located in the eastern part of the country. It's situated on the banks of the Ottawa River, which forms the boundary between Ontario and Quebec. The city has a population of around 940,000 people within its urban core, making it the fourth-largest city in Canada by population. Ottawa is known for its bilingualism, being one of the few officially bilingual cities in North America. It's also home to many government buildings, including Parliament Hill, which houses the Canadian House of Commons and Senate. The Rideau Canal, a UNESCO World Heritage Site, runs through the city and offers picturesque views during the winter when it's frozen over. Ottawa is often referred to as the 'City of Lakes' due to its numerous lakes and ponds, such as Rock Lake and Britannia Beach. The city has a diverse economy with sectors including technology, finance, and tourism. It also hosts various cultural events throughout the year, including the Ottawa International Jazz Festival and the Byward Market's winter farmers' market.\"\n}","is_dropdown":false,"is_card":true,"is_base64_image":false}],"start_time":1806316.3388047,"run_time":0.00016609998419880867}]}}
        }))
    })
</script>

<script type="application/javascript">
    function detect_mime_type(base64_string) {
        const SIGNATURES = {
            JVBERi0: "application/pdf",
            R0lGODdh: "image/gif",
            R0lGODlh: "image/gif",
            iVBORw0KGgo: "image/png",
            "/9j/": "image/jpg"
        }

        for (let signature in SIGNATURES) {
            if (base64_string.indexOf(signature) === 0) {
                return SIGNATURES[signature];
            }
        }
    }
</script>

<div x-data="dandy_recording" class="container-fluid bg-light">

    <div class="row sticky-top bg-top py-1 mb-1 border-bottom border-dark shadow-sm">
        <div class="col-auto px-4 pb-1">
            <span class="fw-bold">Dandy v0.13.3 Recording Output: AKHF</span>
            <span class="text-muted"><br>2025-04-01 22:16:44.020304</span>
        </div>
        <div class="col text-end pe-3 me-2">
            <a class="btn btn-outline-dark pt-1 mt-2 me-3 shadow-sm" @click="open_all()"><i
                    class="bi bi-arrows-expand"></i> Open All</a>
            <a class="btn btn-outline-dark pt-1 mt-2 me-3 shadow-sm" @click="close_all()"><i
                    class="bi bi-arrows-collapse"></i> Close All</a>
            <span x-html="'Total Run Time<br>' + recording.run_time_seconds.toFixed(3) + 's'"
                  class="float-end text-end pe-1 fw-bold"></span>
        </div>
    </div>

    <template x-for="event in recording.event_manager.events">

        <div class="row mb-1">
    <div x-show="event.type === 'run'" class="col-12 text-center text-run pb-1">
        <i class="bi bi-caret-down-fill"></i>
        <i class="bi bi-caret-down-fill"></i>
        <i class="bi bi-caret-down-fill"></i>
    </div>

    <div class="col-auto fs-4 pe-0 me-0">
        <i x-show="event.type === 'run'" class="bi bi-cpu text-run"></i>
        <i x-show="event.type === 'request'" class="bi bi-box-arrow-up-right text-request ps-5"></i>
        <i x-show="event.type === 'response'" class="bi bi-box-arrow-in-down-left text-response ps-5"></i>
        <i x-show="event.type === 'result'" class="bi bi-arrow-return-left text-result"></i>
        <i x-show="event.type === 'retry'" class="bi bi-arrow-clockwise text-retry ps-5 ms-5"></i>
        <i x-show="event.type === 'success'" class="bi bi-check-lg text-success ps-5 ms-5"></i>
        <i x-show="event.type === 'warning'"
           class="bi bi-exclamation-triangle text-warning ps-5 ms-5"></i>
        <i x-show="event.type === 'failure'" class="bi bi-x-lg text-failure ps-5 ms-5"></i>
        <i x-show="event.type === 'other'" class="bi bi-question-circle text-other"></i>
    </div>

    <div class="col">

        <div x-data="{
                    show_details: false
                }" x-model="event.show_details" x-modelable="show_details" class="card">

            <div x-on:click="show_details = !show_details" class="card-header cursor-pointer ps-2 py-1"
                 :class="{
                         'bg-run': event.type === 'run',
                         'bg-result': event.type === 'result',
                         'bg-request': event.type === 'request',
                         'bg-response': event.type === 'response',
                         'bg-retry': event.type === 'retry',
                         'bg-success': event.type === 'success',
                         'bg-warning': event.type === 'warning',
                         'bg-failure': event.type === 'failure',
                         'bg-other': event.type === 'other'
                         }"
            >
                <span x-show="!show_details"><i class="bi bi-plus-lg"></i></span>
                <span x-show="show_details"><i class="bi bi-dash-lg"></i></span>
                <span x-text="event.object_name"></span>
                <span><i class="bi bi-arrow-right"></i></span>
                <span x-text="event.callable_name"></span>
                <span x-text="event.run_time.toFixed(3) + 's'" class="float-end text-end"
                      width="130px;"></span>
                <span x-text="event.id" class="float-end text-center" style="width: 100px;"></span>
            </div>

            <div x-show="show_details" class="card-body p-2"
                 style="font-size: 0.85rem; font-family: 'Courier New', serif">

                <table class="w-100">
                    <template x-for="item in event.items">
                        <tbody>

                        <template x-if="item.is_dropdown">
                            <tr>
                                <td colspan="2" x-data="{ show_item_value: false }">

                                    <div class="card bg-item shadow-sm mx-0 mt-2">
                                        <div class="card-body py-2 px-3">
                                            <div class="row">
                                                <div class="col-12 cursor-pointer ps-2"
                                                     x-on:click="show_item_value = !show_item_value">
                                                    <i class="bi bi-caret-right" x-show="!show_item_value"></i>
                                                    <i class="bi bi-caret-down" x-show="show_item_value"></i>
                                                    <span x-text="item.key" class="text-item"></span>
                                                </div>
                                            </div>
                                            <div x-show="show_item_value" class="row">
                                                <div class="col-12 white-space-pre-wrap" x-text="item.value">
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </td>
                            </tr>
                        </template>

                        <template x-if="item.is_card">
                            <tr>
                                <td colspan="2">
                                    <div class="card bg-item shadow-sm mx-0 mt-2 w-100">
                                        <div class="card-body py-2 px-3">
                                            <div class="row">
                                                <div x-text="item.key + ':'" class="col-12 text-item">
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div x-text="item.value" class="col-12 white-space-pre-wrap">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </template>

                        <template x-if="item.is_base64_image">
                            <img x-bind:src="'data:' + detect_mime_type(image) + ';base64,' + image"
                                 alt="image"
                                 class="img-fluid rounded border shadow-sm my-2">
                        </template>

                        <template x-if="!item.is_dropdown && !item.is_card && !item.is_base64_image">
                            <tr>
                                <td x-text="item.key + ':'" class="text-item align-top text-end pe-2" nowrap></td>
                                <td x-text="item.value" class="w-100 white-space-pre-wrap"></td>
                            </tr>
                        </template>

                        </tbody>

                    </template>

                </table>


            </div>

        </div>

    </div>

    <div x-show="event.type === 'result'" class="col-12 text-center text-result pb-1">
        <i class="bi bi-stop-fill"></i>
        <i class="bi bi-stop-fill"></i>
        <i class="bi bi-stop-fill"></i>
    </div>

</div>


    </template>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

</body>
</html>